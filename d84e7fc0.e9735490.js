(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{119:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(130),o=n(427),u=n(425),c=n(428);t.a=(e={})=>{const{title:t="\u57fa\u7840\u7528\u6cd5",dsc:n="",example:r,code:l=""}=e;return a.a.createElement(o.a,null,r,a.a.createElement(u.a,{orientation:"left"},t),a.a.createElement("div",null,n),a.a.createElement(c.a,{expandIcon:()=>null,ghost:!0},a.a.createElement(c.a.Panel,{header:"</>",key:"1"},a.a.createElement(i.a.pre,null,a.a.createElement(i.a.code,{className:"language-jsx"},l)))))}},121:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return Q})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return K})),n.d(t,"g",(function(){return P}));var r=n(0),a=n(132);var i=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},u="object"==typeof o&&o&&o.Object===Object&&o,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=function(){return l.Date.now()},s=l.Symbol,d=Object.prototype,v=d.hasOwnProperty,p=d.toString,b=s?s.toStringTag:void 0;var y=function(e){var t=v.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(i){}var a=p.call(e);return r&&(t?e[b]=n:delete e[b]),a},m=Object.prototype.toString;var h=function(e){return m.call(e)},g=s?s.toStringTag:void 0;var j=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":g&&g in Object(e)?y(e):h(e)};var O=function(e){return null!=e&&"object"==typeof e};var I=function(e){return"symbol"==typeof e||O(e)&&"[object Symbol]"==j(e)},w=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,S=/^0o[0-7]+$/i,x=parseInt;var T=function(e){if("number"==typeof e)return e;if(I(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(w,"");var n=E.test(e);return n||S.test(e)?x(e.slice(2),n?2:8):k.test(e)?NaN:+e},C=Math.max,R=Math.min;var A=function(e,t,n){var r,a,o,u,c,l,s=0,d=!1,v=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=r,i=a;return r=a=void 0,s=t,u=e.apply(i,n)}function y(e){return s=e,c=setTimeout(h,t),d?b(e):u}function m(e){var n=e-l;return void 0===l||n>=t||n<0||v&&e-s>=o}function h(){var e=f();if(m(e))return g(e);c=setTimeout(h,function(e){var n=t-(e-l);return v?R(n,o-(e-s)):n}(e))}function g(e){return c=void 0,p&&r?b(e):(r=a=void 0,u)}function j(){var e=f(),n=m(e);if(r=arguments,a=this,l=e,n){if(void 0===c)return y(l);if(v)return clearTimeout(c),c=setTimeout(h,t),b(l)}return void 0===c&&(c=setTimeout(h,t)),u}return t=T(t)||0,i(n)&&(d=!!n.leading,o=(v="maxWait"in n)?C(T(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),j.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=l=a=c=void 0},j.flush=function(){return void 0===c?u:g(f())},j},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(r.useRef)();a.current=e;var i=Object(r.useMemo)((function(){return A((function(){return a.current.apply(a,arguments)}),t,n)}),[]);return{run:i,cancel:i.cancel}};var M=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),A(e,t,{leading:r,maxWait:t,trailing:a})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(r.useRef)();a.current=e;var i=Object(r.useMemo)((function(){return M((function(){return a.current.apply(a,arguments)}),t,n)}),[]);return{run:i,cancel:i.cancel}};function W(e){if(e)return"function"==typeof e?e():"current"in e?e.current:e}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",a=Object(r.useRef)();a.current=e,Object(r.useEffect)((function(){var e=function(e){var n=W(t);n&&!n.contains(e.target)&&a.current(e)};return document.addEventListener(n,e),function(){document.removeEventListener(n,e)}}),[t])};function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F,J,X,q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"$emit",value:function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=[].concat(r),o=i[0],u=i.slice(1);e.subscriptions[o]&&"function"==typeof e.subscriptions[o]&&(t=e.subscriptions)[o].apply(t,N(u))}},{key:"$on",value:function(t,n){Object(r.useEffect)((function(){return e.subscriptions[t]||(e.subscriptions[t]=n),function(){e.subscriptions={}}}),[])}},{key:"$once",value:function(e,t){var n=this;n.$on(e,(function r(){n.$off(e,r),t.apply(n,arguments)}))}},{key:"$off",value:function(t){e.subscriptions[t]&&(e.subscriptions[t]=void 0)}}])&&H(t.prototype,n),a&&H(t,a),e}();X={},(J="subscriptions")in(F=q)?Object.defineProperty(F,J,{value:X,enumerable:!0,configurable:!0,writable:!0}):F[J]=X;var z=function(){return new q},G=function(e,t){var n=Object(r.useRef)(t),i=L(Object(r.useState)((function(){var t=W(e)||{};return{width:t.clientWidth,height:t.clientHeight}})),2),o=i[0],u=i[1];return Object(r.useLayoutEffect)((function(){var t=W(e);if(!t)return function(){};var r=new a.a((function(e){var t,r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=B(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{var a=function(){var e=t.value;u((function(){return{width:e.target.clientWidth,height:e.target.clientHeight}})),n.current&&n.current({width:e.target.clientWidth,height:e.target.clientHeight})};for(r.s();!(t=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}}));return r.observe(t),function(){r.disconnect()}}),[e]),o},K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(r.useRef)(),o=Object(r.useRef)();i.current=t,o.current=a;var u=Object(r.useRef)(!1);Object(r.useEffect)((function(){var t=W(e)||document;return t.addEventListener("scroll",(function(e){var t=e.target;t.scrollTop+t.clientHeight>=t.scrollHeight-n?u.current||(i.current&&i.current(e),o&&(u.current=!0)):u.current=!1})),function(){t&&t.removeEventListener("scroll",(function(){}))}}),[e])},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(r.useRef)(),a=Object(r.useRef)();return Object(r.useEffect)((function(){n.current=e})),Object(r.useEffect)((function(){if(null!=t)return a.current=setInterval((function(){n.current()}),t),function(){return a.current&&clearInterval(a.current)}}),[t]),{clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){a.current&&clearInterval(a.current)}))}}}).call(this,n(29))},418:function(e,t,n){"use strict";n.r(t),t.default="import React, { useRef, useState } from 'react'\nimport { Input, Button } from 'antd'\nimport { useInterval } from 'ihooks'\n\nconst IuseInterval = () => {\n  const [count, setCount] = useState(0)\n  const [delay, setDelay] = useState(1000)\n\n  const onInputChange = (e) => {\n    const val = e.target.value\n    setDelay(val ? +val : 0)\n  }\n  const interval = useInterval(() => {\n    setCount(count + 1)\n  }, delay)\n\n  const handleOnClick = () => {\n    interval.clearInterval()\n  }\n\n  return (\n    <div>\n      <p>{count}</p>\n      <div style={{width: 240}}>\n        <Input value={delay} placeholder=\"\u8bf7\u8f93\u5165\u95f4\u9694\u65f6\u95f4\" onChange={onInputChange} />\n      </div>\n      <br />\n      <Button type=\"primary\" onClick={handleOnClick}>\u6e05\u695a\u8ba1\u65f6\u5668</Button>\n    </div>\n  )\n}\n\nexport default IuseInterval\n"},87:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return h})),n.d(t,"metadata",(function(){return g})),n.d(t,"rightToc",(function(){return O})),n.d(t,"default",(function(){return w}));var r=n(2),a=n(6),i=n(0),o=n.n(i),u=n(112),c=n(119),l=n(429),f=n(199),s=n(121);var d=()=>{const[e,t]=Object(i.useState)(0),[n,r]=Object(i.useState)(1e3),a=Object(s.d)((()=>{t(e+1)}),n);return o.a.createElement("div",null,o.a.createElement("p",null,e),o.a.createElement("div",{style:{width:240}},o.a.createElement(l.a,{value:n,placeholder:"\u8bf7\u8f93\u5165\u95f4\u9694\u65f6\u95f4",onChange:e=>{const t=e.target.value;r(t?+t:0)}})),o.a.createElement("br",null),o.a.createElement(f.a,{type:"primary",onClick:()=>{a.clearInterval()}},"\u6e05\u695a\u8ba1\u65f6\u5668"))},v=n(426);const p=[{name:"callback",dsc:"\u8981\u6267\u884c\u7684\u51fd\u6570",type:"",default:"",key:"1"},{name:"delay",dsc:"\u95f4\u9694\u65f6\u95f4",type:"number",default:"1000",key:"2"}],b=[{title:"\u53c2\u6570",key:"name",dataIndex:"name"},{title:"\u8bf4\u660e",key:"dsc",dataIndex:"dsc"},{title:"\u7c7b\u578b",key:"type",dataIndex:"type"},{title:"\u9ed8\u8ba4",key:"default",dataIndex:"default"}],y=[{name:"clearInterval",dsc:"\u6e05\u695a\u8ba1\u65f6\u5668\u7684\u65b9\u6cd5",type:"",default:"",key:"1"}],m=[{title:"\u53c2\u6570",key:"name",dataIndex:"name"},{title:"\u8bf4\u660e",key:"dsc",dataIndex:"dsc"}];var h={id:"useInterval",title:"useInterval"},g={unversionedId:"useInterval",id:"useInterval",isDocsHomePage:!1,title:"useInterval",description:"\u5728hook\u4e2d\u7528 setInterval \u65f6\uff0c\u53ef\u80fd\u6709\u65f6\u5019\u603b\u4f1a\u504f\u79bb\u81ea\u5df1\u60f3\u8981\u7684\u6548\u679c\uff0cuseInterval\u4e00\u4e2a\u66f4\u52a0\u53cb\u597d\u7684\u8ba1\u65f6\u5668api\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u5904\u7406\u526f\u4f5c\u7528",source:"@site/docs/useInterval.mdx",slug:"/useInterval",permalink:"/docs/useInterval",editUrl:"https://github.com/ximoThorn/ihooks/packages/website/docs/useInterval.mdx",version:"current",sidebar:"someSidebar",previous:{title:"useThrottle",permalink:"/docs/useThrottle"},next:{title:"useClickOutside",permalink:"/docs/useClickOutside"}},j=n(418),O=[{value:"\u4ee3\u7801\u6f14\u793a",id:"\u4ee3\u7801\u6f14\u793a",children:[{value:"\u57fa\u7840\u7528\u6cd5",id:"\u57fa\u7840\u7528\u6cd5",children:[]},{value:"Params",id:"params",children:[]},{value:"Result",id:"result",children:[]}]}],I={rightToc:O};function w(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(u.b)("wrapper",Object(r.a)({},I,n,{components:t,mdxType:"MDXLayout"}),Object(u.b)("p",null,"\u5728hook\u4e2d\u7528 setInterval \u65f6\uff0c\u53ef\u80fd\u6709\u65f6\u5019\u603b\u4f1a\u504f\u79bb\u81ea\u5df1\u60f3\u8981\u7684\u6548\u679c\uff0cuseInterval\u4e00\u4e2a\u66f4\u52a0\u53cb\u597d\u7684\u8ba1\u65f6\u5668api\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u5904\u7406\u526f\u4f5c\u7528"),Object(u.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(u.b)("h3",{id:"\u57fa\u7840\u7528\u6cd5"},"\u57fa\u7840\u7528\u6cd5"),Object(u.b)(c.a,{dsc:"",example:Object(u.b)(d,{mdxType:"IuseInterval"}),code:j.default,mdxType:"FrameWrap"}),Object(u.b)("h3",{id:"params"},"Params"),Object(u.b)(v.a,{dataSource:p,columns:b,pagination:!1,mdxType:"Table"}),Object(u.b)("h3",{id:"result"},"Result"),Object(u.b)(v.a,{dataSource:y,columns:m,pagination:!1,mdxType:"Table"}))}w.isMDXComponent=!0}}]);